<!DOCTYPE html>
<html>
 <head>
  <title> New Document </title>
  <meta name="Generator" content="EditPlus">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <script>
    function imageUpload(eve) {
      var file = eve.target.files[0];
      document.getElementById('output').innerHTML = file.name;
      if (!file.type.match('image.*')) {
        return;
      }
      var reader = new FileReader();
      // Closure to capture the file information.
      reader.onload = (function(theFile) {
        return function(e) {
          document.getElementById('output').innerHTML = document.getElementById('output').innerHTML + 
                      '<br /><div style="width:100px; height:100px;background-image:url('+ e.target.result+ ');background-size: contain; background-repeat: no-repeat; background-position: center center;"></div>';
        };
      })(file);
      // Read in the image file as a data URL.
      reader.readAsDataURL(file);
    }

    function init() {
      document.getElementById('file_upload').addEventListener('change', imageUpload, false);
    }

    window.onload = setTimeout(init, 100);
  </script>
  <style>
  .uploader {
    border: 1px solid #999;
    width: 250px; 
    height: 20px;
    border-radius: 3px; 
    background: #ddd;
  }

  .uploader:hover {
    border: 1px solid #7ca;
    background: #afd;
    color: #060;
  }

  .uploader:active {
    border: 1px solid #ca7;
    background: #fda;
    color: #600;
  }
  </style>
 </head>
 <body>
  <div class="uploader" >
    <span id="output" style="width: 240px; margin-left: 5px; height: 20px; font-family: sans-serif;">upload...</span>
    <input type="file" id="file_upload" accept=".png, .jpg, .jpeg" style="position: relative; height: 20px; top: -20px; left: 0px; opacity: 0.005; width: 250px;" />  
  </div>
 </body>
</html>
